const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}};p();function getBaseUrl(){const e=document.head.querySelector("base");return e?e.href:document.URL}function extractBaseUrl(e){return e.substring(0,e.lastIndexOf("/"))+"/"}function createUrl(e,t){return t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("/")?e.endsWith("/")?e+t.substring(1):e+t:e.endsWith("/")?e+t:e+"/"+t}function validate({name:e,mode:t,props:s}){const r=[];return e===null&&r.push("Missing custom element name."),!isValidName(e)&&r.push("Invalid custom element name: '"+e+"'. See https://candid.link/#custom-element-name"),customElements.get(e)!==void 0&&r.push("Custom element name '"+e+"' is already registered."),t!==null&&t!=="open"&&t!=="closed"&&r.push("Invalid shadowRoot mode: '"+t+"'. See https://candid.link/#shadow-root-mode"),(typeof s!="object"||Array.isArray(s))&&r.push("Invalid props: '"+JSON.stringify(s)+"'. See https://candid.link/#web-component-props"),r}const PCENChar="[-.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}]",regexp=new RegExp(`^[a-z]${PCENChar}*-${PCENChar}*$`,"u"),reservedWords=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];function isValidName(e){return regexp.test(e)&&!reservedWords.includes(e)}async function webImport(e,t,s){const r=t.querySelectorAll("web-import");await Promise.allSettled([...r].map(async n=>{if(!n.getAttribute("status")){n.setAttribute("status","loading");try{const o=n.getAttribute("src"),c=createUrl(e,o),i=await fetch(c);if(i.ok){const u=await i.text(),a=document.createRange().createContextualFragment(u),l=extractBaseUrl(c);await s(l,a),n.parentNode.replaceChild(a,n)}else logError(n,`${i.status} ${i.statusText}`)}catch(o){logError(n,o)}}}))}function logError(e,t){console.error("[candid] web import error",e,t),e.setAttribute("status","error"),e.setAttribute("message",JSON.stringify(t))}async function candid(e){Object.assign({},e);const t=async(s,r)=>{process(s,r,t),await webImport(s,r,t)};await t(getBaseUrl(),document)}function process(e,t,s,r){t.querySelectorAll("web-component").forEach(n=>{try{const o=n.getAttribute("name"),c=n.getAttribute("mode"),i=parseProps(n.getAttribute("props")),u=n.querySelector("template"),a=validate({name:o,mode:c,props:i});if(a.length){console.warn("[candid] validation error",a,n);return}const l=createClass(e,u,c,i,s);customElements.define(o,l)}catch(o){console.error("[candid] Error processing web component:",n,o)}})}function parseProps(str){return str?eval("("+str+")"):{}}const __ctx=Symbol();function createClass(baseUrl,template,mode,props,componentProcessor){let processor,script;async function initialize(){if(template){processor||(processor=componentProcessor(baseUrl,template.content)),await processor,script||(script=[...template.content.querySelectorAll("script")].map(e=>e.parentNode.removeChild(e).textContent).join(`;
`));const root=mode==="open"||mode==="closed"?this.attachShadow({mode}):this;root.appendChild(template.content.cloneNode(!0));const ctx={element:this,root};Object.defineProperty(this,__ctx,{value:ctx}),function(){eval(script)}.bind(ctx)(),this.addEventListener("slotchange",ctx.onSlotChange),this.connectedCallback(),Object.entries(props).forEach(([e,t])=>this.attributeChangedCallback(e,null,t))}}class C extends HTMLElement{constructor(){super();Object.entries(props).forEach(([t,s])=>{let r=s;this.hasOwnProperty(t)&&(r=this[t],delete this[t]),createProperty(this,t,s),this.hasAttribute(t)||(this[t]=r)}),initialize.bind(this)()}static get observedAttributes(){return Object.keys(props)}connectedCallback(){var t;call((t=this[__ctx])==null?void 0:t.onMount)}disconnectedCallback(){var t;call((t=this[__ctx])==null?void 0:t.onUnmount)}attributeChangedCallback(t,s,r){var n;call((n=this[__ctx])==null?void 0:n.onUpdate,t,s,r)}adoptedCallback(){var t;call((t=this[__ctx])==null?void 0:t.onAdopt)}}return C}function call(e,...t){typeof e=="function"&&e.apply(e,t)}function createProperty(e,t,s){Object.defineProperty(e,t,typeof s=="boolean"?{get:()=>e.hasAttribute(t),set:n=>n?e.setAttribute(t,""):e.removeAttribute(t),enumerable:!0}:{get:()=>e.getAttribute(t),set:n=>n==null?e.removeAttribute(t):e.setAttribute(t,n),enumerable:!0})}window.addEventListener("load",()=>candid());
