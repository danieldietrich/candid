const p=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}};p();function processWebComponents(baseUrl,element,componentProcessor){element.querySelectorAll("web-component").forEach(elem=>{var t;try{const name=elem.getAttribute("name"),mode=elem.getAttribute("mode"),propsStr=elem.getAttribute("props"),props=propsStr?eval("("+propsStr+")"):{},superTag=(t=elem.getAttribute("extends"))==null?void 0:t.toLocaleLowerCase(),template=elem.querySelector("template"),CustomElement=createClass(baseUrl,template,mode,props,superTag,componentProcessor),options=superTag?{extends:superTag}:void 0;customElements.define(name,CustomElement,options)}catch(o){console.error("[candid] Error processing web component:",elem,o)}})}const __ctx=Symbol();function createClass(baseUrl,template,mode,props,superTag,componentProcessor){let processor,script;const superType=superTag?document.createElement(superTag).constructor:HTMLElement;function CustomElement(){return Reflect.construct(superType,[],CustomElement)}return CustomElement.prototype=Object.create(superType.prototype,{connectedCallback:{value(){var t,o;this[__ctx]||(Object.entries(props).forEach(([r,s])=>{let e=s;this.hasOwnProperty(r)&&(e=this[r],delete this[r]),createProperty(this,r,s),this.hasAttribute(r)||(this[r]=e)}),initialize.bind(this)()),(o=(t=this[__ctx])==null?void 0:t.onMount)==null||o.call(this[__ctx])}},disconnectedCallback:{value(){var t,o;(o=(t=this[__ctx])==null?void 0:t.onUnmount)==null||o.call(this[__ctx])}},attributeChangedCallback:{value(t,o,r){var s,e;r!==o&&((e=(s=this[__ctx])==null?void 0:s.onUpdate)==null||e.call(this[__ctx],t,o,r))}},adoptedCallback:{value(){var t,o;(o=(t=this[__ctx])==null?void 0:t.onAdopt)==null||o.call(this[__ctx])}}}),CustomElement.observedAttributes=Object.keys(props),CustomElement;async function initialize(){if(template){processor||(processor=componentProcessor(baseUrl,template.content)),await processor,script||(script=[...template.content.querySelectorAll("script")].map(t=>t.parentNode.removeChild(t).textContent).join(`;
`));const root=mode==="open"||mode==="closed"?this.attachShadow({mode}):this,content=template.content.cloneNode(!0);root.appendChild(content);const ctx={element:this,root};Object.defineProperty(this,__ctx,{value:ctx}),function(){eval(script)}.bind(ctx)(),this.addEventListener("slotchange",ctx.onSlotChange),this.connectedCallback(),Object.entries(props).forEach(([t,o])=>this.attributeChangedCallback(t,null,o))}}}function createProperty(t,o,r){Object.defineProperty(t,o,typeof r=="boolean"?{get:()=>t.hasAttribute(o),set:e=>e?t.setAttribute(o,""):t.removeAttribute(o),enumerable:!0}:{get:()=>t.getAttribute(o),set:e=>e==null?t.removeAttribute(o):t.setAttribute(o,e),enumerable:!0})}async function processWebImports(t,o,r){const s=o.querySelectorAll("web-import");await Promise.allSettled([...s].map(async e=>{if(!e.getAttribute("status")){e.setAttribute("status","fetching");const n=e.getAttribute("src"),c=new URL(n,t).toString(),i=await fetch(c);if(i.ok){const l=await i.text(),a=document.createRange().createContextualFragment(l),u=c.substring(0,c.lastIndexOf("/"))+"/";await r(u,a),e.parentNode.replaceChild(a,e)}else logError(e,i.status,await i.text())}}))}function logError(t,o,r){t.setAttribute("status",String(o)),t.setAttribute("error",JSON.stringify(r)),console.error("[candid] web import error",t)}async function candid(t){var e;const{elementProcessor:o}=Object.assign({},t),r=async(n,c)=>{o&&o(c),processWebComponents(n,c,r),await processWebImports(n,c,r)},s=((e=document.head.querySelector("base"))==null?void 0:e.href)||document.URL;await r(s,document)}window.addEventListener("load",()=>candid());
