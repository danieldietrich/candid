const p=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}};p();class WebImport extends HTMLElement{constructor(){super();this.style.display="none"}connectedCallback(){webImport(this)}}async function webImport(t){var r;try{const e=createUrl(t.getAttribute("src")),o=await fetch(e);if(o.ok){const n=await o.text(),s=document.createRange().createContextualFragment(n),c=e.substring(0,e.lastIndexOf("/"))+"/";s.querySelectorAll("template").forEach(a=>{a.content.querySelectorAll("web-import").forEach(i=>{const l=createUrl(i.getAttribute("src"),c);i.setAttribute("src",l)})}),(r=t.parentNode)==null||r.replaceChild(s,t)}else console.error("[candid] web-import http error ",o.status+`
`,await o.text(),`
`,t)}catch(e){console.error("[candid] web-import network error:",e,`
`,t)}}function createUrl(t,r=document.head.baseURI){return new URL(t||"/",r).toString()}class WebComponent extends HTMLElement{constructor(){super();this.style.display="none"}connectedCallback(){const name=this.getAttribute("name"),props=this.getAttribute("props");name&&createWebComponent(name,{extends:this.getAttribute("extends"),mode:this.getAttribute("mode"),props:props&&eval("("+props+")")||{},template:this.querySelector("template")})}}const ctx=Symbol();function createWebComponent(name,options={}){const{extends:superTag,mode,props={},template}=options,superType=superTag?document.createElement(superTag).constructor:HTMLElement;let init;const _CustomElement=class extends superType{constructor(){super();Object.defineProperty(this,ctx,{value:{element:this,root:mode==="open"||mode==="closed"?this.attachShadow({mode}):this}}),init===void 0&&(init=template?new Promise(async t=>{const{content:r}=template;await Promise.all(Array.from(r.querySelectorAll("web-import")).map(n=>webImport(n)));const e=Array.from(r.querySelectorAll("script:not([src])")).map(n=>{var s;return(s=n.parentNode)==null?void 0:s.removeChild(n).textContent}),o="{"+e.join("}{")+"}";t({script:o})}):Promise.resolve({script:""}))}static get observedAttributes(){return Object.keys(props)}async connectedCallback(){var t,r;const ready=Object.isFrozen(this[ctx]);if(ready)(t=this[ctx].onMount)==null||t.call(this[ctx]);else{const{script}=await init;if(initializeProperties(this,props),template){const content=template.content.cloneNode(!0);this[ctx].root.appendChild(content),function(){try{eval(script)}catch(e){console.error("[candid] error executing script of web component '"+name+`'
`,e,`
`,script)}}.call(this[ctx])}Object.freeze(this[ctx]),(r=this[ctx].onMount)==null||r.call(this[ctx]),this[ctx].onSlotChange&&this[ctx].root.addEventListener("slotchange",e=>{var o;return(o=this[ctx].onSlotChange)==null?void 0:o.call(this[ctx],e)}),_CustomElement.observedAttributes.forEach(e=>{var o;return(o=this[ctx].onUpdate)==null?void 0:o.call(this[ctx],e,null,this[e])})}}disconnectedCallback(){var t;(t=this[ctx].onUnmount)==null||t.call(this[ctx])}attributeChangedCallback(t,r,e){var o;e!==r&&((o=this[ctx].onUpdate)==null||o.call(this[ctx],t,r,e))}adoptedCallback(){var t;(t=this[ctx].onAdopt)==null||t.call(this[ctx])}};let CustomElement=_CustomElement;customElements.define(name,CustomElement,superTag?{extends:superTag}:void 0)}function initializeProperties(t,r){Object.keys(r).forEach(e=>{let o=r[e];t.hasOwnProperty(e)&&(o=t[e],delete t[e]),createProperty(t,e,r[e]),t.hasAttribute(e)||(t[e]=o)})}function createProperty(t,r,e){Object.defineProperty(t,r,typeof e=="boolean"?{get:()=>t.hasAttribute(r),set:n=>n?t.setAttribute(r,""):t.removeAttribute(r),enumerable:!0}:{get:()=>t.getAttribute(r),set:n=>n==null?t.removeAttribute(r):t.setAttribute(r,String(n)),enumerable:!0})}function init(){try{return customElements.define("web-import",WebImport),customElements.define("web-component",WebComponent),!0}catch{return!1}}init();
