const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}};p();function processWebComponents(baseUrl,element,componentProcessor){element.querySelectorAll("web-component").forEach(elem=>{var e;try{const name=elem.getAttribute("name"),mode=elem.getAttribute("mode"),propsStr=elem.getAttribute("props"),props=propsStr?eval("("+propsStr+")"):{},superTag=(e=elem.getAttribute("extends"))==null?void 0:e.toLocaleLowerCase(),template=elem.querySelector("template"),CustomElement=createClass(baseUrl,template,mode,props,superTag,componentProcessor),options=superTag?{extends:superTag}:void 0;customElements.define(name,CustomElement,options)}catch(t){console.error("[candid] Error processing web component:",elem,t)}})}const __ctx=Symbol(),__ready=Symbol();function createClass(baseUrl,template,mode,props,superTag,componentProcessor){let processor,script;const superType=superTag?document.createElement(superTag).constructor:HTMLElement;function CustomElement(){const e=Reflect.construct(superType,[],CustomElement);!processor&&template&&(processor=componentProcessor(baseUrl,template.content));const t=mode==="open"||mode==="closed"?e.attachShadow({mode}):e;return e[__ctx]={element:e,root:t},e}return CustomElement.prototype=Object.create(superType.prototype,{connectedCallback:{value(){var e;this[__ready]===void 0?initialize(this):this[__ready]&&((e=this[__ctx].onMount)==null||e.call(this[__ctx]))}},disconnectedCallback:{value(){var e;this[__ready]&&((e=this[__ctx].onUnmount)==null||e.call(this[__ctx]))}},attributeChangedCallback:{value(e,t,r){var n;this[__ready]&&r!==t&&((n=this[__ctx].onUpdate)==null||n.call(this[__ctx],e,t,r))}},adoptedCallback:{value(){var e;this[__ready]&&((e=this[__ctx].onAdopt)==null||e.call(this[__ctx]))}}}),CustomElement.observedAttributes=Object.keys(props),CustomElement;async function initialize(e){e[__ready]=!1;const t=e[__ctx];initializeProperties(e),template&&(await processor,processor=!0,processTemplate(template,t)),registerListeners(t,e),e[__ready]=!0,e.connectedCallback(),Object.entries(props).forEach(([r,n])=>e.attributeChangedCallback(r,null,n))}function initializeProperties(e){Object.entries(props).forEach(([t,r])=>{let n=r;e.hasOwnProperty(t)&&(n=e[t],delete e[t]),createProperty(e,t,r),e.hasAttribute(t)||(e[t]=n)})}function processTemplate(template,ctx){script===void 0&&(script=[...template.content.querySelectorAll("script")].map(e=>e.parentNode.removeChild(e).textContent).join(`;
`));const content=template.content.cloneNode(!0);ctx.root.appendChild(content),function(){eval(script)}.bind(ctx)()}function registerListeners(e,t){e.onSlotChange&&t.addEventListener("slotchange",e.onSlotChange)}}function createProperty(e,t,r){Object.defineProperty(e,t,typeof r=="boolean"?{get:()=>e.hasAttribute(t),set:o=>o?e.setAttribute(t,""):e.removeAttribute(t),enumerable:!0}:{get:()=>e.getAttribute(t),set:o=>o==null?e.removeAttribute(t):e.setAttribute(t,o),enumerable:!0})}async function processWebImports(e,t,r){const n=t.querySelectorAll("web-import");await Promise.allSettled([...n].map(async o=>{if(!o.getAttribute("status")){o.setAttribute("status","fetching");const s=o.getAttribute("src"),c=new URL(s,e).toString(),i=await fetch(c);if(i.ok){const l=await i.text(),a=document.createRange().createContextualFragment(l),u=c.substring(0,c.lastIndexOf("/"))+"/";await r(u,a),o.parentNode.replaceChild(a,o)}else logError(o,i.status,await i.text())}}))}function logError(e,t,r){e.setAttribute("status",String(t)),e.setAttribute("error",JSON.stringify(r)),console.error("[candid] web import error",e)}async function candid(e){var o;const{elementProcessor:t}=Object.assign({},e),r=async(s,c)=>{t&&t(c),processWebComponents(s,c,r),await processWebImports(s,c,r)},n=((o=document.head.querySelector("base"))==null?void 0:o.href)||document.URL;await r(n,document)}window.addEventListener("load",()=>candid());
