const p=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}};p();class WebImport extends HTMLElement{constructor(){super();this.style.display="none"}connectedCallback(){webImport(this)}}async function webImport(t){var r;try{const e=createUrl(t.getAttribute("src")),o=await fetch(e);if(o.ok){const n=await o.text(),s=document.createRange().createContextualFragment(n),c=e.substring(0,e.lastIndexOf("/"))+"/";s.querySelectorAll("template").forEach(a=>{a.content.querySelectorAll("web-import").forEach(i=>{const l=createUrl(i.getAttribute("src"),c);i.setAttribute("src",l)})}),(r=t.parentNode)==null||r.replaceChild(s,t)}else console.error("[candid] web-import http error ",o.status+`
`,await o.text(),`
`,t)}catch(e){console.error("[candid] web-import network error:",e,`
`,t)}}function createUrl(t,r=document.head.baseURI){return new URL(t||"/",r).toString()}class WebComponent extends HTMLElement{constructor(){super();this.style.display="none"}connectedCallback(){const r=this.querySelector("template");r&&createCustomElement(r,...["name","extends","mode","props"].map(e=>this.getAttribute(e)))}}const ctx=Symbol();function createCustomElement(template,name,superTag,mode,propsStr){if(!name)return;const superType=superTag?document.createElement(superTag).constructor:HTMLElement,props=propsStr?eval("("+propsStr+")"):{};let init;class CustomElement extends superType{constructor(){super();Object.defineProperty(this,ctx,{value:{element:this,root:mode==="open"||mode==="closed"?this.attachShadow({mode}):this}}),init===void 0&&(init=new Promise(async t=>{await Promise.all(Array.from(template.content.querySelectorAll("web-import")).map(o=>webImport(o)));const r=Array.from(template.content.querySelectorAll("script:not([src])")).map(o=>{var n;return(n=o.parentNode)==null?void 0:n.removeChild(o).textContent}),e="{"+r.join("}{")+"}";t({script:e})}))}static get observedAttributes(){return Object.keys(props)}async connectedCallback(){var t,r;const ready=Object.isFrozen(this[ctx]);if(ready)(t=this[ctx].onMount)==null||t.call(this[ctx]);else{const{script}=await init;initializeProperties(this,props);const content=template.content.cloneNode(!0);this[ctx].root.appendChild(content),function(){try{eval(script)}catch(e){console.error("[candid] error executing script of web component '"+name+`'
`,e,`
`,script)}}.call(this[ctx]),Object.freeze(this[ctx]),this[ctx].onSlotChange&&this.addEventListener("slotchange",()=>{var e;return(e=this[ctx].onSlotChange)==null?void 0:e.call(this[ctx])}),(r=this[ctx].onMount)==null||r.call(this[ctx]),CustomElement.observedAttributes.forEach(e=>{var o;return(o=this[ctx].onUpdate)==null?void 0:o.call(this[ctx],e,null,this[e])})}}disconnectedCallback(){var t;(t=this[ctx].onUnmount)==null||t.call(this[ctx])}attributeChangedCallback(t,r,e){var o;e!==r&&((o=this[ctx].onUpdate)==null||o.call(this[ctx],t,r,e))}adoptedCallback(){var t;(t=this[ctx].onAdopt)==null||t.call(this[ctx])}}const options=superTag?{extends:superTag}:void 0;customElements.define(name,CustomElement,options)}function initializeProperties(t,r){Object.keys(r).forEach(e=>{let o=r[e];t.hasOwnProperty(e)&&(o=t[e],delete t[e]),createProperty(t,e,r[e]),t.hasAttribute(e)||(t[e]=o)})}function createProperty(t,r,e){Object.defineProperty(t,r,typeof e=="boolean"?{get:()=>t.hasAttribute(r),set:n=>n?t.setAttribute(r,""):t.removeAttribute(r),enumerable:!0}:{get:()=>t.getAttribute(r),set:n=>n==null?t.removeAttribute(r):t.setAttribute(r,String(n)),enumerable:!0})}customElements.define("web-import",WebImport);customElements.define("web-component",WebComponent);
